<% @products.each do |product| %>
    <h2><%= product.name %></h2>

    <p id="body-<%= product.id %>"><%= truncate product.description %></p>
     
    <button class="js-more" data-id="<%= product.id %>">More Info</button>  
<% end %>
  
  <script type="text/javascript" charset="utf-8">
  $(function () {
    $(".js-more").on('click', function() {
      // get the id from the data attribute
      let id = $(this).data("id");
      $.get("/products/" + id + "/description", function(data) {
        $("#body-" + id).text(data);
      });
    });
  });
  </script>
